<div class="container w-50">
  <form [formGroup]="form" (ngSubmit)="registerUser()">    
    <h2 class="course-title">Register User</h2>
    <div *ngIf="registerPending" class="spinner-border" role="status">
      <span class="sr-only">Loading...</span>
    </div>
    <div class="alert alert-danger" *ngIf="form.errors">
      The Username or Password is invalid!!
    </div>
   <div formGroupName="account">
    <div class="form-group">
      <label for="username">Username</label>
      <input 
        formControlName="username"
        id="username"         
        placeholder="Enter Username"
        type="text" 
        class="form-control" />
        <!-- <div *ngIf="form.get('username').touched && form.get('username').invalid" class="alert alert-danger">
          UserName is required
        </div> -->        
        <div *ngIf="username.pending" class="spinner-border" role="status">
          <span class="sr-only">Loading...</span>
        </div>
        <div *ngIf="username.touched && username.invalid" class="alert alert-danger">
          <div *ngIf="username.errors.required">UserName is required</div>
          <div *ngIf="username.errors.cannotContainSpace">UserName should not have space</div>
          <div *ngIf="username.errors.shouldBeUnique">UserName already exists! Please try another</div>
        </div>
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input 
        formControlName="password"
        id="password" 
        type="password" 
        placeholder="Enter Password"
        class="form-control" />
        <div *ngIf="password.touched && password.invalid" class="alert alert-danger">
          <div *ngIf="password.errors.required">Password is required</div>
          <div *ngIf="password.errors.minlength">Password should be of minimum {{password.errors.minlength.requiredLength}}</div>
          <div *ngIf="password.errors.pattern">Password should have lower and upper case with any of the !@#$ characters</div>
        </div>
    </div>
   </div>
   
    <div class="form-group button">
      <button [disabled]="!form.valid"
        class="btn btn-primary" 
        type="submit">Sign Up</button>
    </div>
  </form>
</div>
