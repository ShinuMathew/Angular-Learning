<div class="container w-50">
    <form action="" #courseForm="ngForm" (ngSubmit)="registerCourse(courseForm)">
        <h2 class="course-title">Course Registration</h2>
        <div class="form-group">
            <label for="courseId">Course ID</label>
            <input 
                type="text" 
                id="courseId" 
                name="courseId" 
                ngModel
                #courseId="ngModel"
                class="form-control" 
                placeholder="Enter Course ID"
                (change)="log(courseId)"
                required
                minlength="5"
                maxlength="7"
                >
            <div class="alert alert-danger" *ngIf="courseId.touched && !courseId.valid">
                <div *ngIf="courseId.errors.required">CourseId is required</div>
                <div *ngIf="courseId.errors.minlength">CourseId should be minimum {{courseId.errors.minlength.requiredLength }} characters </div>
            </div>
        </div>
        <div class="form-group">
            <label for="course-name">Course Name</label>
            <input 
                type="text" 
                class="form-control" 
                ngModel 
                name="courseName" 
                id="courseName" 
                #courseName="ngModel" 
                aria-describedby="courseHelp" 
                placeholder="Enter Course Name" 
                required
                minlength="5"
                maxlength="15"
                >
            <div class="alert alert-danger" *ngIf="courseName.touched && !courseName.valid">
                <div *ngIf="courseName.errors.required">CourseName is required</div>
                <div *ngIf="courseName.errors.maxlength">CourseName should be of minlength {{courseName.errors.maxlength.requiredLength}}</div>
                <div *ngIf="courseName.errors.minlength">CourseName should be of maxlength {{courseName.errors.minlength.requiredLength}}</div>
            </div>
        </div>
        <div class="form-group">
            <label for="course-name">Category</label>
            <select class="form-select" id="category" name="category" ngModel #category="ngModel" required>
                <!-- Fetch from Course service API on ngInit() -->
                <option *ngFor="let course of courses" [ngValue]="course">{{course.description}}</option>
                <!-- <option value="SD">Software Development</option>
                <option value="AU">Automation</option>
                <option value="PF">Performance Engineering</option>
                <option value="DE">Data Engineering</option>
                <option value="DV">Devops</option>
                <option value="MD">Mobile Development</option>
                <option value="ML">Machine Learning</option> -->
            </select>
            <div class="alert alert-danger" *ngIf="category.touched && !category.valid">
                <div *ngIf="category.errors.required">Category is required</div>
            </div>
        </div>
        <div class="form-check">
            <input type="checkbox" class="form-check-input" id="consent" name="consent" ngModel #consent="ngModel" required>
            <label class="form-check-label" for="consent">I agree all <a href="#">Terms & conditions</a></label>            
        </div>
        <div class="alert alert-warning" *ngIf="!consent.valid">( ! ) Please read and agree with the T&C to register successfully</div>
        <!-- <div>{{formOutput}}</div> -->
        <div class="form-group button">
            <button  [disabled]="!courseForm.valid" type="submit" class="btn btn-primary">Submit</button>
        </div>     
        <div 
            class="alert alert-success" 
            [ngClass]="{
                'show':showSuccess,
                'hide':!showSuccess
            }" 
            role="alert">
            Course {{registeredCourse}} registered successfully
        </div>   
    </form>
</div>